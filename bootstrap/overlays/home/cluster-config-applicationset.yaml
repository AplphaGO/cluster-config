apiVersion: argoproj.io/v1alpha1
kind: ApplicationSet
metadata:
 name: cluster-config
 namespace: openshift-gitops
spec:
  generators:
  - list:
      elements:
      - name: sealed-secrets
        path: components/apps/sealed-secrets-operator/overlays/default
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '1'
      - name: letsencrypt-certs
        path: components/apps/letsencrypt-certs/overlays/default
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '2'
      - name: storage
        path: components/configs/storage/base
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '3'
      - name: config-authentication
        path: components/configs/oauth/overlays/google-with-matrix
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '4'
      - name: config-groups-and-membership
        path: components/configs/groups-and-membership/overlays/default
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '11'
      - name: config-alertmanager
        path: components/configs/alertmanager/base
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '11'
      - name: config-console-links
        path: components/configs/consolelinks/base
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '11'
      - name: config-helm-repos
        path: components/configs/helm-repos/base
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '11'
      - name: config-prometheus-user-app
        path: components/configs/prometheus-user-app/base
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '11'
      - name: config-alertmanager
        path: components/apps/compliance-operator/overlays/scheduled-master
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '21'
      - name: config-container-security
        path: container-security-operator/base
        repoURL: https://github.com/redhat-canada-gitops/catalog.git
        targetRevision: master
        wave: '21'
      - name: config-cost-management
        path: clusters/overlays/home/apps/cost-management-operator
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '21'
      - name: config-namespace-config-operator
        path: components/apps/namespace-configuration-operator/overlays/default
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '21'
      - name: config-sso
        path: clusters/overlays/home/apps/sso
        repoURL: https://github.com/gnunn-gitops/cluster-config.git
        targetRevision: applicationsets
        wave: '21'
      - name: config-web-terminal-operator
        path: web-terminal-operator/overlays/aggregate
        repoURL: https://github.com/redhat-canada-gitops/catalog.git
        targetRevision: master
        wave: '21'
  template:
    metadata:
      name: '{{name}}'
      namespace: openshift-gitops
    annotations:
      argocd.argoproj.io/sync-wave: '{{wave}}'
      argocd.argoproj.io/compare-options: IgnoreExtraneous
    labels:
      gitops.ownedBy: cluster-config
  spec:
    project: cluster-config
    source:
      repoURL: '{{repoURL}}'
      targetRevision: '{{targetRevision}}'
      path: '{{path}}'
    destination:
      server: https://kubernetes.default.svc
      namespace: openshift-gitops